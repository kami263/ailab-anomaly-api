# Anomaly Detection API

è£½é€ æ¥­å‘ã‘ã«è¨­è¨ˆã•ã‚ŒãŸ **AutoEncoder ãƒ™ãƒ¼ã‚¹ã®ç•°å¸¸æ¤œçŸ¥ API** ã§ã™ã€‚  
æ­£å¸¸ãƒ‡ãƒ¼ã‚¿ã®ã¿ã§å­¦ç¿’ã—ãŸãƒ¢ãƒ‡ãƒ«ã‚’ç”¨ã„ã¦ã€å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®å†æ§‹æˆèª¤å·®ã‹ã‚‰  
ç•°å¸¸ã‚¹ã‚³ã‚¢ã‚’ç®—å‡ºã—ã€ç•°å¸¸/æ­£å¸¸ã‚’åˆ¤å®šã—ã¾ã™ã€‚

FastAPI + PyTorch ã§æ§‹ç¯‰ã•ã‚Œã€REST API ã¨ã—ã¦ç°¡å˜ã«çµ±åˆã§ãã¾ã™ã€‚

---

## ğŸš€ Features

- AutoEncoder ã«ã‚ˆã‚‹ç•°å¸¸æ¤œçŸ¥
- æ•°å€¤ãƒ™ã‚¯ãƒˆãƒ«ã‚’å…¥åŠ›ã™ã‚‹ã¨ç•°å¸¸ã‚¹ã‚³ã‚¢ã‚’è¿”ã™
- FastAPI ã«ã‚ˆã‚‹é«˜é€Ÿ API
- Docker å¯¾å¿œ
- Web UIï¼ˆtemplates + staticï¼‰ä»˜ã
- è£½é€ æ¥­ã®å“è³ªç®¡ç†ãƒ»è¨­å‚™ç›£è¦–ã«æœ€é©

---

## ğŸ“¦ Installation

### 1. Clone

```bash
git clone https://github.com/kami263/ailab-anomaly-api
cd ailab-anomaly-api

### 2. Install dependencies
pip install -r requirements.txt

### 3. Run API
uvicorn main:app --reload

### 4. Access
â€¢ 	API Docs: http://localhost:8000/docs
â€¢ 	Web UI: http://localhost:8000/

ğŸ§  Model Overview
æœ¬ API ã¯ AutoEncoder ã‚’ä½¿ç”¨ã—ã¦ãŠã‚Šã€
æ­£å¸¸ãƒ‡ãƒ¼ã‚¿ã®ã¿ã§å­¦ç¿’ â†’ å†æ§‹æˆèª¤å·®ãŒå¤§ãã„ã»ã©ç•°å¸¸ã¨åˆ¤å®š ã—ã¾ã™ã€‚
â€¢ 	å…¥åŠ›: æ•°å€¤ãƒ™ã‚¯ãƒˆãƒ«ï¼ˆä¾‹ï¼šã‚»ãƒ³ã‚µãƒ¼å€¤ï¼‰
â€¢ 	å‡ºåŠ›:
â€¢ 	: å†æ§‹æˆèª¤å·®
â€¢ 	:  or 
é–¾å€¤ã¯  å†…ã§è¨­å®šã•ã‚Œã¦ã„ã¾ã™ã€‚

ğŸ”  API Specification
POST  â€” Detect Anomaly
Request (JSON)
{
  "values": [1.2, 0.9, 1.1]
}
Response (JSON)
{
  "score": 0.034,
  "status": "normal"
}
Description
â€¢ 	å…¥åŠ›ãƒ™ã‚¯ãƒˆãƒ«ã‚’ AutoEncoder ã«é€šã—ã€å†æ§‹æˆèª¤å·®ã‚’è¨ˆç®—
â€¢ 	é–¾å€¤ã‚’è¶…ãˆã‚‹ã¨  ã‚’è¿”ã™

ğŸ³ Docker Support
Build
docker build -t anomaly-api .
Run
docker run -p 8000:8000 anomaly-api

Project Structure
ailab-anomaly-api/
â”œâ”€â”€ main.py               # FastAPI ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ anomaly_model.py      # AutoEncoder ãƒ¢ãƒ‡ãƒ« & æ¨è«–ãƒ­ã‚¸ãƒƒã‚¯
â”œâ”€â”€ model.pth             # å­¦ç¿’æ¸ˆã¿ãƒ¢ãƒ‡ãƒ«
â”œâ”€â”€ data.csv              # ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ templates/            # Web UI
â”œâ”€â”€ static/               # CSS / JS
â”œâ”€â”€ Dockerfile
â””â”€â”€ requirements.txt

ğŸ›  Future Improvements
â€¢ 	API Key èªè¨¼ã®è¿½åŠ 
â€¢ 	é–¾å€¤ã®è‡ªå‹•æœ€é©åŒ–
â€¢ 	ãƒãƒ«ãƒã‚»ãƒ³ã‚µãƒ¼å¯¾å¿œ
â€¢ 	ãƒ¢ãƒ‡ãƒ«ã®ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å­¦ç¿’

ğŸ“„ License
MIT Licenseï¼ˆå¿…è¦ã«å¿œã˜ã¦å¤‰æ›´ã—ã¦ãã ã•ã„ï¼‰

ğŸ‘¤ Author
kami263
è£½é€ æ¥­å‘ã‘ AI ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³é–‹ç™º


## ğŸ“˜ Architecture Diagrams

### ğŸ§  AutoEncoder ãƒ¢ãƒ‡ãƒ«æ§‹é€ å›³
## Model Architecture (AutoEncoder)
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚          Input (x)           â”‚
               â”‚   e.g., sensor values        â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚   Encoder      â”‚
                     â”‚  (Linear â†’ ReLU) 
                     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚  Bottleneck    â”‚
                     â”‚ (latent space) â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚   Decoder      â”‚
                     â”‚ (Linear â†’ ReLU)â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚     Reconstructed Output     â”‚
               â”‚          x' (x_hat)          â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Reconstruction Error = || x - x' ||
Anomaly Score = Reconstruction Error

### ğŸ”„  API ãƒ•ãƒ­ãƒ¼å›³ï¼ˆFastAPI + Model æ¨è«–
## API Flow
Client
  â”‚
  â”‚  POST /anomaly
  â”‚  { "values": [...] }
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          FastAPI             â”‚
â”‚        (main.py)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚ anomaly_model.py â”‚
      â”‚  - load model    â”‚
      â”‚  - preprocess    â”‚
      â”‚  - inference     â”‚
      â”‚  - compute error â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  Anomaly Score   â”‚
      â”‚  Status: normal/ â”‚
      â”‚          anomaly â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â–¼
Client receives JSON response

### ğŸ§© API å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³ï¼ˆDocker ã‚‚å«ã‚€
## System Architecture
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚        Client App        â”‚
                 â”‚  (Factory system, PLC,   â”‚
                 â”‚   MES, dashboard, etc.)  â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â–¼
                       HTTP / JSON
                                â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚        FastAPI           â”‚
                 â”‚        (main.py)         â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚   AutoEncoder Model      â”‚
                 â”‚   (PyTorch, model.pth)   â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â–¼
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚  Anomaly Score + Status  â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                 (Optional)
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚        Docker            â”‚
                 â”‚  Containerized API       â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

## ğŸ­ Manufacturing Use Case

ä»¥ä¸‹ã¯ã€æœ¬ API ãŒè£½é€ ç¾å ´ã§ã©ã®ã‚ˆã†ã«åˆ©ç”¨ã•ã‚Œã‚‹ã‹ã‚’ç¤ºã™ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å›³ã§ã™ã€‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚        Factory Line           â”‚
                   â”‚  (Press, CNC, Conveyor, etc.) â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚   Sensors        â”‚
                         â”‚ (Vibration, Temp â”‚
                         â”‚  Current, Sound) â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚  Edge Device     â”‚
                         â”‚ (PLC / IPC /     â”‚
                         â”‚  Raspberry Pi)   â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
                         HTTP / JSON Request
                                   â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚     Anomaly Detection API       â”‚
                   â”‚        (FastAPI + AI)           â”‚
                   â”‚  - AutoEncoder inference        â”‚
                   â”‚  - Score calculation            â”‚
                   â”‚  - Normal / Anomaly decision    â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
                         JSON Response
                                   â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚     MES / Dashboard / SCADA     â”‚
                   â”‚  - Real-time monitoring         â”‚
                   â”‚  - Alerts & notifications       â”‚
                   â”‚  - Trend visualization          â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚     Factory Operators           â”‚
                   â”‚  - Early anomaly detection      â”‚
                   â”‚  - Preventive maintenance       â”‚
                   â”‚  - Quality improvement          â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

## â±ï¸ Time-Series Flow (Sensor â†’ API â†’ Alert)

ä»¥ä¸‹ã¯ã€è£½é€ ãƒ©ã‚¤ãƒ³ã§ã®ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç•°å¸¸æ¤œçŸ¥ã®æµã‚Œã‚’ç¤ºã™æ™‚ç³»åˆ—ãƒ•ãƒ­ãƒ¼å›³ã§ã™ã€‚
Time
â”‚
â”‚   â‘  ã‚»ãƒ³ã‚µãƒ¼è¨ˆæ¸¬
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚      ãƒ»æŒ¯å‹•
â”‚      ãƒ»æ¸©åº¦
â”‚      ãƒ»é›»æµ
â”‚      ãƒ»éŸ³éŸ¿
â”‚
â”‚   â‘¡ ã‚¨ãƒƒã‚¸ãƒ‡ãƒã‚¤ã‚¹ã§ãƒ‡ãƒ¼ã‚¿åé›†
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚      ãƒ»PLC / IPC / Raspberry Pi
â”‚      ãƒ»ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°å‘¨æœŸã§ãƒ‡ãƒ¼ã‚¿å–å¾—
â”‚      ãƒ»JSON å½¢å¼ã«æ•´å½¢
â”‚
â”‚   â‘¢ API ã«é€ä¿¡ï¼ˆHTTP POSTï¼‰
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚      POST /anomaly
â”‚      { "values": [...] }
â”‚
â”‚   â‘£ AutoEncoder ã«ã‚ˆã‚‹æ¨è«–
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚      ãƒ»å†æ§‹æˆèª¤å·®ã‚’è¨ˆç®—
â”‚      ãƒ»é–¾å€¤ã¨æ¯”è¼ƒ
â”‚      ãƒ»ç•°å¸¸ã‚¹ã‚³ã‚¢ç®—å‡º
â”‚
â”‚   â‘¤ API ãƒ¬ã‚¹ãƒãƒ³ã‚¹è¿”å´
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚      {
â”‚        "score": 0.034,
â”‚        "status": "normal"
â”‚      }
â”‚
â”‚   â‘¥ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ / MES / SCADA ãŒå—ä¿¡
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚      ãƒ»ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ è¡¨ç¤º
â”‚      ãƒ»ãƒˆãƒ¬ãƒ³ãƒ‰æ›´æ–°
â”‚
â”‚   â‘¦ ã‚¢ãƒ©ãƒ¼ãƒˆç™ºå ±ï¼ˆç•°å¸¸æ™‚ï¼‰
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚      ãƒ»ãƒ¡ãƒ¼ãƒ«é€šçŸ¥
â”‚      ãƒ»ãƒ©ã‚¤ãƒ³åœæ­¢
â”‚      ãƒ»ä¿å…¨æ‹…å½“ã¸ã‚¢ãƒ©ãƒ¼ãƒˆ
â”‚
â–¼
End

1. ğŸ“Š ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ï¼ˆPython / cURL / JavaScriptï¼‰
API ã‚’ã©ã†å‘¼ã¹ã°ã„ã„ã‹ã€ã™ãåˆ†ã‹ã‚‹ã‚ˆã†ã«ã™ã‚‹ã ã‘ã§åˆ©ç”¨è€…ã®ãƒãƒ¼ãƒ‰ãƒ«ãŒå¤§ããä¸‹ãŒã‚Šã¾ã™ã€‚
Python Example
import requests

payload = {"values": [1.2, 0.9, 1.1]}
res = requests.post("http://localhost:8000/anomaly", json=payload)

print(res.json())


cURL Example
curl -X POST http://localhost:8000/anomaly \
  -H "Content-Type: application/json" \
  -d '{"values":[1.2,0.9,1.1]}'2. ğŸ“ˆ é–¾å€¤ã®ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°æ–¹æ³•
è£½é€ æ¥­ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€Œé–¾å€¤ã‚’ã©ã†æ±ºã‚ã‚‹ã‹ã€ã‚’æœ€ã‚‚æ°—ã«ã—ã¾ã™ã€‚
ä¾‹ã¨ã—ã¦ï¼š
â€¢ 	å†æ§‹æˆèª¤å·®ã®åˆ†å¸ƒã‚’å¯è¦–åŒ–ã™ã‚‹æ–¹æ³•
â€¢ 	95% ä¿¡é ¼åŒºé–“ã‚’é–¾å€¤ã«ã™ã‚‹ä¾‹
â€¢ 	data.csv ã‚’ä½¿ã£ãŸé–¾å€¤æ¨å®šã‚³ãƒ¼ãƒ‰

import numpy as np

errors = np.loadtxt("reconstruction_errors.csv")
threshold = np.percentile(errors, 95)
print("Recommended threshold:", threshold)

3. ğŸ§ª ãƒ†ã‚¹ãƒˆæ–¹æ³•ï¼ˆUnit Test / API Testï¼‰
FastAPI ã¯ pytest ã¨ç›¸æ€§ãŒè‰¯ã„ã®ã§ã€ç°¡å˜ãªãƒ†ã‚¹ãƒˆä¾‹ã‚’è¼‰ã›ã‚‹ã¨ä¿¡é ¼æ€§ãŒä¸ŠãŒã‚Šã¾ã™ã€‚

from fastapi.testclient import TestClient
from main import app

client = TestClient(app)

def test_anomaly_api():
    res = client.post("/anomaly", json={"values": [1, 2, 3]})
    assert res.status_code == 200

    
4. ğŸ“ ãƒ¢ãƒ‡ãƒ«ã®å†å­¦ç¿’æ–¹æ³•ï¼ˆTraining Guideï¼‰
åˆ©ç”¨è€…ãŒè‡ªåˆ†ã®ãƒ‡ãƒ¼ã‚¿ã§å­¦ç¿’ã—ç›´ã›ã‚‹ã‚ˆã†ã«ã™ã‚‹ã¨ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¾¡å€¤ãŒä¸€æ°—ã«ä¸ŠãŒã‚Šã¾ã™ã€‚
ä¾‹ï¼š
â€¢ 	 ã®è¿½åŠ 
â€¢ 	å­¦ç¿’ãƒ‡ãƒ¼ã‚¿ã®å½¢å¼
â€¢ 	å­¦ç¿’ã‚³ãƒãƒ³ãƒ‰
â€¢ 	model.pth ã®æ›´æ–°æ–¹æ³•

python train.py --data data.csv --output model.pth

5. ğŸ§© API æ‹¡å¼µã‚¬ã‚¤ãƒ‰ï¼ˆHow to Customizeï¼‰
è£½é€ æ¥­ã®ç¾å ´ã§ã¯ã€Œè‡ªç¤¾ä»•æ§˜ã«åˆã‚ã›ãŸã„ã€ã¨ã„ã†ãƒ‹ãƒ¼ã‚ºãŒå¼·ã„ã®ã§ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¬ã‚¤ãƒ‰ãŒã‚ã‚‹ã¨å–œã°ã‚Œã¾ã™ã€‚
â€¢ 	å…¥åŠ›æ¬¡å…ƒã‚’å¤‰æ›´ã™ã‚‹æ–¹æ³•
â€¢ 	ãƒ¢ãƒ‡ãƒ«æ§‹é€ ã‚’å¤‰æ›´ã™ã‚‹æ–¹æ³•
â€¢ 	é–¾å€¤ãƒ­ã‚¸ãƒƒã‚¯ã‚’å·®ã—æ›¿ãˆã‚‹æ–¹æ³•
â€¢ 	Web UI ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ–¹æ³•


6. ğŸ“¡ æœ¬ç•ªé‹ç”¨ã‚¬ã‚¤ãƒ‰ï¼ˆDeployment Guideï¼‰
è£½é€ æ¥­ã®ç¾å ´ã§ã¯ã€Œå®‰å®šç¨¼åƒã€ãŒæœ€é‡è¦ã€‚
è¿½åŠ ã™ã‚‹ã¨è‰¯ã„å†…å®¹ï¼š
â€¢ 	systemd ã«ã‚ˆã‚‹å¸¸é§åŒ–
â€¢ 	Nginx ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚·è¨­å®š
â€¢ 	Docker Compose ä¾‹
â€¢ 	GPU å¯¾å¿œï¼ˆä»»æ„ï¼‰7. ğŸ“‰ æ€§èƒ½æŒ‡æ¨™ï¼ˆLatency / Throughput / Model Sizeï¼‰
API ã®æ€§èƒ½ãŒåˆ†ã‹ã‚‹ã¨ã€å°å…¥åˆ¤æ–­ãŒã—ã‚„ã™ããªã‚Šã¾ã™ã€‚
ä¾‹ï¼š










  


